"use strict";(self["webpackChunktsf"]=self["webpackChunktsf"]||[]).push([[443],{4323:function(e,t,l){l.r(t),l.d(t,{default:function(){return f}});var n=l(3396);const i=(0,n._)("div",null,"아버지와 아들의 키를 담은 엑셀파일을 넣어주세요.",-1),a=(0,n._)("br",null,null,-1),o=(0,n._)("br",null,null,-1),s=(0,n._)("input",{type:"text",id:"input_data"},null,-1),r=(0,n._)("div",{id:"predict_section"},null,-1);function d(e,t,l,d,c,u){return(0,n.wg)(),(0,n.iD)(n.HY,null,[i,a,(0,n._)("div",null,[(0,n._)("input",{type:"file",onChange:t[0]||(t[0]=(...e)=>u.readExcel&&u.readExcel(...e))},null,32),(0,n._)("button",{id:"modeling-button",onClick:t[1]||(t[1]=(...e)=>u.modeling&&u.modeling(...e))}," 분석시작 ")]),o,(0,n._)("div",null,[s,(0,n._)("button",{onClick:t[2]||(t[2]=(...e)=>u.prediction&&u.prediction(...e))}," 예측 ")]),r],64)}l(7658);var c={name:"app",data(){return{father_height:[],son_height:[]}},methods:{async readExcel(e){console.log(e);let t=e.target,l=new FileReader,n=[],i=[];l.onload=function(e){let t=l.result,a=XLSX.read(t,{type:"binary"});const o=a.Sheets.train;for(let l=2;l<757;l++)n.push(o["A"+l].v),i.push(o["B"+l].v)},l.readAsBinaryString(t.files[0]),this.father_height=n,this.son_height=i},modeling(e){console.log(this.father_height);let t=tf.tensor(this.father_height),l=tf.tensor(this.son_height),n=tf.input({shape:[1]}),i=tf.layers.dense({units:10,activation:"relu"}).apply(n),a=tf.layers.dense({units:10,activation:"relu"}).apply(i),o=tf.layers.dense({units:1}).apply(a),s=tf.model({inputs:n,outputs:o});tfvis.show.modelSummary({name:"Model Summary"},s);let r={optimizer:tf.train.adam(),loss:tf.losses.meanSquaredError};s.compile(r);const d={epochs:100,callbacks:tfvis.show.fitCallbacks({name:"Training Performance"},["loss","mse"],{height:200,callbacks:["onEpochEnd"]})};s.fit(t,l,d).then((()=>{console.log(s);let e=s.predict(t);e.print(),s.save("localstorage://my-model-3"),console.log("모델 저장됨")}))},async prediction(){const e=document.getElementById("input_data"),t=tf.tensor(Number(e.value)),l=await tf.loadLayersModel("localstorage://my-model-3");console.log("모델 로드됨"),console.log(l);let n=l.predict(t);n.print()}}},u=l(89);const p=(0,u.Z)(c,[["render",d]]);var f=p},339:function(e,t,l){l.r(t),l.d(t,{default:function(){return _}});var n=l(3396),i=l(7139);const a={action:""},o={class:"container"},s={class:"file-upload-list"},r={class:"file-upload-list__item__data"},d=["id","src"],c=["id"],u=["onClick"],p=["onClick"];function f(e,t,l,f,g,h){return(0,n.wg)(),(0,n.iD)("form",a,[(0,n._)("div",o,[(0,n._)("div",{class:"file-upload-container",onDragenter:t[0]||(t[0]=(...e)=>h.onDragenter&&h.onDragenter(...e)),onDragover:t[1]||(t[1]=(...e)=>h.onDragover&&h.onDragover(...e)),onDragleave:t[2]||(t[2]=(...e)=>h.onDragleave&&h.onDragleave(...e)),onDrop:t[3]||(t[3]=(...e)=>h.onDrop&&h.onDrop(...e)),onClick:t[4]||(t[4]=(...e)=>h.onClick&&h.onClick(...e))},[(0,n._)("div",{class:(0,i.C_)(["file-upload",e.isDragged?"dragged":""])}," 사진이나 이미지 파일을 드래그 & 드랍 ",2)],32),(0,n._)("input",{type:"file",ref:"fileInput",class:"file-upload-input",onChange:t[5]||(t[5]=(...e)=>h.onFileChange&&h.onFileChange(...e)),multiple:""},null,544),(0,n._)("div",s,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(g.fileList,((e,t)=>((0,n.wg)(),(0,n.iD)("div",{class:"file-upload-list__item",key:t},[(0,n._)("div",r,[(0,n._)("img",{class:"file-upload-list__item__data-thumbnail",id:e.name,src:e.src},null,8,d),(0,n._)("div",{class:"file-upload-list__item__data-name",id:0+e.name},null,8,c)]),(0,n._)("div",{class:"file-upload-list__item__btn-remove",onClick:t=>h.mobileNet(e.name)}," 분석 ",8,u),(0,n._)("div",{class:"file-upload-list__item__btn-remove",onClick:e=>h.handleRemove(t)}," 삭제 ",8,p)])))),128))])])])}l(7658);var g={name:"app",created(){this.$socket.on("translate",(e=>{const t=e.split("/"),l=document.getElementById(0+t[0]);l.innerHTML=t[1]}))},data(){return{fileList:[],PredictionsList:[]}},methods:{onClick(){this.$refs.fileInput.click()},onDragenter(){this.isDragged=!0},onDragleave(){this.isDragged=!1},onDragover(e){e.preventDefault()},onDrop(e){e.preventDefault(),this.isDragged=!1;const t=e.dataTransfer.files;this.addFiles(t)},onFileChange(e){const t=e.target.files;this.addFiles(t)},async addFiles(e){for(let t=0;t<e.length;t++){const l=await this.readFiles(e[t]);e[t].src=l,console.log(e[t]),this.fileList.push(e[t]),this.$socket.emit("src",e[t].src)}},async readFiles(e){return new Promise((t=>{const l=new FileReader;l.onload=async e=>{t(e.target.result)},l.readAsDataURL(e)}))},handleRemove(e){this.fileList.splice(e,1)},mobileNet(e){const t=document.getElementById(e);document.getElementById(0+e);mobilenet.load().then((l=>{l.classify(t).then((t=>{this.$socket.emit("translate",e+"/"+t[0].className+":"+(100*t[0].probability).toFixed(2)+"%<br>"+t[1].className+":"+(100*t[1].probability).toFixed(2)+"%<br>"+t[2].className+":"+(100*t[2].probability).toFixed(2)+"%")}))}))}}},h=l(89);const m=(0,h.Z)(g,[["render",f]]);var _=m}}]);
//# sourceMappingURL=about.09ff93e9.js.map